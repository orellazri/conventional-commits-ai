version: "3"

tasks:
  default:
    desc: List all tasks
    cmds:
      - task --list-all
    silent: true

  build:
    desc: Build the binary
    cmds:
      - go build -o bin/conventional-commits-ai main.go
    generates:
      - bin/conventional-commits-ai
    run: once

  run:
    desc: Run the binary
    deps: [build]
    cmds:
      - bin/conventional-commits-ai

  install:
    desc: Install the binary locally
    cmds:
      - go install .

  release:
    desc: Release a new version
    cmds:
      - bash hack/release.sh
